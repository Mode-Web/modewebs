<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cahier d'activit√©s num√©rique ‚Äì Art de la Table</title>
  <link rel="icon" type="image/x-icon" href="logo.jpeg">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <style>
    /* ======== GLOBAL ======== */
    body {
      font-family: "Poppins", Arial, sans-serif;
      background-color: #1f3650;
      color: #222;
      margin: 0;
      padding: 0;
    }
    .sidebar {
      width: 230px;
      background: linear-gradient(90deg,#1f3650 90%,#1f3650 100%);
      color: #fff;
      position: fixed;
      left: 0; top: 0; height: 100vh;
      display: flex; flex-direction: column;
      padding-top: 40px;
      box-shadow: 3px 0 12px rgba(0,0,0,0.07);
      z-index: 10;
    }
    .sidebar a {
      cursor: pointer;
      padding: 16px 32px;
      font-size: 1rem;
      border-left: 4px solid transparent;
      color: #fff;
      text-decoration: none;
      transition:  0.3s, padding-left 0.3s;
    }
    .sidebar a:hover,
    .sidebar a.active {
      background: #2f4d6a;
      border-left: 4px solid #1f3650;
      padding-left: 48px;
    }
    .main {
      margin-left: 230px;
      padding: 40px 36px;
      background: #eef3f8;
      min-height: 100vh;
    }
    .section { display: none; animation: fadeIn 0.6s;}
    .section.active { display:block;}
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 36px;
    }
    .card {
      background: linear-gradient(120deg,#f7fafc 80%,#e6f0fa 100%);
      border-radius: 22px;
      padding: 32px 24px 24px 24px;
      box-shadow: 0 6px 24px rgba(47,77,106,0.13);
      text-align: center;
      transition: transform 0.35s cubic-bezier(.68,-0.55,.27,1.55), box-shadow 0.35s;
      position: relative;
      border: 1.5px solid rgba(31,54,80,0.08);
    }
    .card:hover {
      transform: translateY(-12px) scale(1.05);
      box-shadow: 0 16px 40px rgba(47,77,106,0.16);
      border-color: #4caf50;
    }
    .card img {
      width: 120px;
      height: 120px;
      object-fit: cover;
      margin-bottom: 18px;
      border-radius: 16px;
      box-shadow: 0 4px 16px rgba(47,77,106,0.13);
      border: 2px solid #4caf50;
      background: #fff;
      transition: transform 0.3s;
    }
    .card:hover img {
      transform: scale(1.08) rotate(-2deg);
      border-color: #3062a7;
    }
    .card h3 {
      color: #3062a7;
      font-size: 1.45rem;
      font-weight: 800;
      margin-bottom: 12px;
      letter-spacing: 0.5px;
      text-shadow: 0 2px 8px rgba(76,175,80,0.08);
    }
    .card p {
      font-size: 1.09rem;
      color: #222;
      line-height: 1.7;
      min-height: 56px;
      margin-bottom: 10px;
      font-weight: 500;
    }
    .card .btn-group { display: flex; gap: 16px; justify-content: center; margin-top: 22px;}
    .card .btn {
      font-size: 1.08rem;
      padding: 13px 28px;
      border-radius: 10px;
      background: linear-gradient(90deg,#4caf50 80%,#3062a7 100%);
      color: #fff;
      font-weight: 700;
      box-shadow: 0 2px 12px rgba(47,77,106,0.11);
      border: none;
      transition: background 0.3s, box-shadow 0.3s, transform 0.25s;
      letter-spacing: 0.5px;
    }
    .card .btn:hover {
      background: linear-gradient(90deg,#3062a7 80%,#4caf50 100%);
      box-shadow: 0 8px 24px rgba(76,175,80,0.18);
      transform: translateY(-3px) scale(1.04);
    }
    .btn {
      background: linear-gradient(90deg,#000000 80%,#1f3650 100%);
      color: #fff;
      border: none;
      padding: 11px 22px;
      border-radius: 7px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s, box-shadow 0.3s;
      box-shadow: 0 2px 8px rgba(47,77,106,0.09);
    }
    .btn:hover {
      background: linear-gradient(90deg,#4caf50 80%,#2f4d6a 100%);
      box-shadow: 0 6px 18px rgba(47,77,106,0.14);
      transform: translateY(-2px);
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 999;
      left: 0; top: 0;
      width: 100vw; height: 100vh;
      background: rgba(32, 54, 80, 0.20);
      justify-content: center;
      align-items: center;
      animation: fadeIn 0.5s;
    }
    .modal-content {
      background: #fff;
      border-radius: 18px;
      padding: 32px 30px 22px 30px;
      box-shadow: 0 8px 32px rgba(47,77,106,0.18);
      max-width: 490px;
      width: 96vw;
      position: relative;
      animation: fadeInUp 0.7s;
    }
    .modal-content video {
      width: 100%;
      max-width: 430px;
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(47,77,106,0.13);
    }
    .close {
      position: absolute;
      right: 18px;
      top: 12px;
      font-size: 2rem;
      color: #2f4d6a;
      cursor: pointer;
      font-weight: bold;
      transition: color 0.3s;
      z-index: 1;
    }
    .close:hover { color: #1f3650; }

    /* Quiz Styles */
    #quiz-container {
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 8px 32px rgba(47,77,106,0.15);
      padding: 34px 28px 28px 28px;
      max-width: 500px;
      margin: 40px auto;
      text-align: center;
      animation: fadeInUp 0.8s;
    }
    #quiz-container h1 {
      color: #ffffff;
      font-size: 1.25rem;
      margin-bottom: 14px;
      letter-spacing: 1px;
    }
    #question-number {
      font-size: 1.1rem;
      color: #4caf50;
      font-weight: 600;
      margin-bottom: 10px;
      letter-spacing: 0.5px;
    }
    #question-text { color: #333; font-size: 1.01rem; margin-bottom: 18px; font-weight: 500;}
    #answer-buttons { display: flex; flex-direction: column; gap: 13px; margin-bottom: 16px;}
    #answer-buttons .btn {
      background-color: #e6f0fa;
      color: #ffffff;
      border: 2px solid #2f4d6a;
      padding: 11px 0;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
    }
    #answer-buttons .btn.correct {
      background: linear-gradient(90deg,#1f3650 60%,#e6f0fa 100%);
      color: #fff;
      border-color: #4caf50;
    }
    #answer-buttons .btn.wrong {
      background: linear-gradient(90deg,#f44336 60%,#e6f0fa 100%);
      color: #fff;
      border-color: #f44336;
    }
    #next-btn {
      background: linear-gradient(90deg,#2f4d6a 80%,#4caf50 100%);
      color: #fff;
      border: none;
      padding: 13px 32px;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: 700;
      box-shadow: 0 4px 16px rgba(47,77,106,0.09);
      cursor: pointer;
      margin: 0 auto;
      display: inline-block;
    }
    #next-btn:hover {
      background: linear-gradient(90deg,#4caf50 80%,#2f4d6a 100%);
      box-shadow: 0 8px 24px rgba(76,175,80,0.15);
    }
    #progress-bar { width: 100%; max-width: 260px; margin: 22px auto 0 auto; height: 18px; background: #e6f0fa; border-radius: 16px;}
    #progress-fill { height: 100%; background: linear-gradient(90deg,#4caf50 30%,#2f4d6a 100%); transition: width 0.5s cubic-bezier(.68,-0.55,.27,1.55); border-radius: 16px;}
    /* Progress Table */
    #progress { background: #fff; border-radius: 20px; box-shadow: 0 8px 32px rgba(47,77,106,0.15); padding: 32px 12px; max-width: 850px; margin: 40px auto; animation: fadeInUp 0.8s;}
    #progress table { width: 100%; border-collapse: collapse; font-size: 1rem; border-radius: 14px;}
    #progress th, #progress td { padding: 13px 9px; border-bottom: 1px solid #dbe4ec; text-align: center;}
    #progress th { background: linear-gradient(90deg,#2f4d6a 85%,#4caf50 100%); color: #fff; font-size: 1.1rem; font-weight: 700;}
    .status-cell[data-status="Compl√©t√©"] { color: #1f3650; background: linear-gradient(90deg,#eafbee 80%,#1f3650 10%);}
    .status-cell[data-status="En cours"] { color: #ff9800; background: linear-gradient(90deg,#fff8e1 80%,#ff9800 10%);}
    .status-cell[data-status="Non commenc√©"] { color: #f44336; background: linear-gradient(90deg,#fee 80%,#f44336 10%);}
    /* Responsive */
    @media (max-width: 900px) {
      .sidebar {width:100%; height:auto; flex-direction:row; justify-content:space-around; position:static; padding:10px 0;}
      .main {margin-left:0; padding:18px 2vw;}
      #progress {padding:18px 2vw;}
      #quiz-container {max-width:99vw;}
      .card img {width:60px; height:60px;}
    }
    @media (max-width:600px) {
      #quiz-container, #progress {padding:13px 2px; max-width:99vw;}
      #progress table th, #progress table td {font-size:0.91rem; padding:10px 2px;}
      #quiz-container {padding:10px 2px 18px 2px;}
      .modal-content {padding:18px 5px;}
    }
    @keyframes fadeIn {from{opacity:0;transform:scale(0.96);} to{opacity:1;transform:scale(1);}}
    @keyframes fadeInUp {from{opacity:0;transform:translateY(20px);} to{opacity:1;transform:translateY(0);}}
  </style>
</head>
<body>
  <!-- Sidebar -->
  <div class="sidebar">
    <a class="active" onclick="showSection(event, 'home')">Accueil</a>
    <a onclick="showSection(event, 'activities')">Activit√©s Pratiques</a>
    <a onclick="showSection(event, 'videos')">Vid√©os</a>
    <a onclick="showSection(event, 'quiz')">Quiz</a>
    <a onclick="showSection(event, 'fiches')">Fiches Techniques</a>
    <a onclick="showSection(event, 'progress')">Progression</a>
  </div>
  <!-- Main Content -->
  <div class="main">
    <div id="home" class="section active">
      <h1>Bienvenue dans le cahier interactif d'activit√© num√©rique en art de la table</h1>
      <p>Apprenez les bases de l‚Äôart de la table √† travers des exercices interactifs, des vid√©os explicatives et des quiz.</p>
      <button class="btn" onclick="showSection(event, 'activities')">Commencer maintenant</button>
    </div>
    <div id="activities" class="section">
      <h1>Activit√©s Pratiques</h1>
      <div class="grid">
        <div class="card">
          <img src="photo2.jpeg" alt="Mise de Table">
          <h3>Mise en place</h3>
          <p>Apprenez √† disposer les assiettes, verres et couverts selon les r√®gles d‚Äôart.</p>
          <div class="btn-group">
            <button class="btn" onclick="showPaymentModal(0)">payant</button>
            <button class="btn" onclick="showTextModal('mise-en-place')">gratuit</button>
          </div>
        </div>
        <div class="card">
        <img src="photo3.jpeg" alt="Hygi√®ne et s√©curit√©">
          <h3>Hygi√®ne et s√©curit√©</h3>
          <p>Plongez dans le module Hygi√®ne et s√©curit√© pour apprendre et perfectionner vos pratiques en art de la table.<br>
            Retrouvez des fiches techniques illustr√©es, des d√©monstrations pratiques et des supports PDF t√©l√©chargeables pour ma√Ætriser les normes d‚Äôhygi√®ne et de s√©curit√© appliqu√©es dans les m√©tiers de la restauration.
          </p>
          <div class="btn-group">
            <button class="btn" onclick="showPaymentModal(1)">payant</button>
            <button class="btn" onclick="showTextModal('hygiene-securite')">gratuit</button>
          </div>
        </div>
        <div class="card">
          <img src="photo4.jpeg" alt="Techniques de service">
          <h3>Techniques de service</h3>
          <p>D√©couvrez les gestes et m√©thodes professionnelles du service en salle √† travers ce module complet !<br>
            Acc√©dez √† des fiches techniques, d√©monstrations pas √† pas et supports PDF pour apprendre √† r√©aliser un service raffin√© et conforme aux standards de l‚Äôh√¥tellerie et de la restauration.
          </p>
          <div class="btn-group">
            <button class="btn" onclick="showPaymentModal(2)">payant</button>
            <button class="btn" onclick="showTextModal('techniques-service')">gratuit</button>
          </div>
        </div>
      </div>
    </div>
    <div id="videos" class="section">
      <h1>Vid√©os de D√©monstration</h1>
      <p>Regardez nos vid√©os pour visualiser les gestes et techniques de service.</p>
      <video controls width="350">
        <source src="WhatsApp Video 2025-10-07 at 20.19.55.mp4" type="video/mp4">
      </video>
    </div>
    <div id="quiz" class="section">
      <div id="quiz-container">
        <h1>Quiz ‚Äì Testez vos connaissances</h1>
        <div id="question-number"></div>
        <div id="question-text"></div>
        <div id="answer-buttons"></div>
        <button id="next-btn">Question suivante</button>
        <div id="progress-bar"><div id="progress-fill"></div></div>
      </div>
    </div>
    <div id="fiches" class="section">
      <h1>Fiches Techniques</h1>
      <div class="card">
        <h3>Les types de couverts</h3>
        <p>D√©couvrez les diff√©rents types de couverts utilis√©s dans le service √† table.</p>
      </div>
      <div class="card">
        <h3></h3>
        <p></p>
      </div>
    </div>
    <div id="progress" class="section" style="margin-top:20px;">
      <table id="progress-table">
        <thead>
          <tr>
            <th>Activit√©</th>
            <th>Status</th>
            <th>Commentaires</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Exercice 1</td>
            <td class="status-cell" data-status="Compl√©t√©">Compl√©t√©</td>
            <td class="comment-cell">Tr√®s bien</td>
            <td><button class="btn" onclick="editRow(this)">edit</button></td>
          </tr>
          <tr>
            <td>Exercice 2</td>
            <td class="status-cell" data-status="En cours">En cours</td>
            <td class="comment-cell">√Ä am√©liorer</td>
            <td><button class="btn" onclick="editRow(this)">edit</button></td>
          </tr>
          <tr>
            <td>Exercice 3</td>
            <td class="status-cell" data-status="Non commenc√©">Non commenc√©</td>
            <td class="comment-cell">-</td>
            <td><button class="btn" onclick="editRow(this)">edit</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!-- Modal for Text -->
  <div id="textModal" class="modal" tabindex="-1">
    <div class="modal-content">
      <span class="close" onclick="closeTextModal()">&times;</span>
      <div id="modalText"></div>
    </div>
  </div>
  <!-- Modal for Video -->

  <div id="videoModal" class="modal" tabindex="-1">
    <div class="modal-content">
      <span class="close" onclick="closeVideoModal()">&times;</span>
      <video id="modalVideo" controls></video>
    </div>
  </div>

  <!-- Modal for Payment Logos -->
  <div id="paymentModal" class="modal" tabindex="-1">
    <div class="modal-content" style="max-width:420px; text-align:center;">
      <span class="close" onclick="closePaymentModal()">&times;</span>
      <div style="display:flex; justify-content:center; gap:24px; margin-bottom:18px; flex-wrap:wrap;">
        <img src="paypal.png" alt="PayPal" style="height:48px; width:auto; border-radius:8px; box-shadow:0 2px 8px rgba(47,77,106,0.09);">
        <img src="edahabia.svg" alt="Edahabia" style="height:48px; width:auto; border-radius:8px; box-shadow:0 2px 8px rgba(47,77,106,0.09);">
        <img src="postdz.png" alt="Post DZ" style="height:48px; width:auto; border-radius:8px; box-shadow:0 2px 8px rgba(47,77,106,0.09);">
      </div>
      <div id="paymentVideoContainer" style="margin-top:18px; display:none;">
        <video controls width="350">
          <source src="video1.mp4" type="video/mp4">
        </video>
      </div>
    </div>
  </div>
  <script>
    // Section navigation
    function showSection(event, sectionId) {
      event.preventDefault();
      document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
      document.getElementById(sectionId).classList.add('active');
      document.querySelectorAll('.sidebar a').forEach(a => a.classList.remove('active'));
      if (event && event.target) event.target.classList.add('active');
    }
    // Modal text contents
    const textContent = {
      'mise-en-place': `
        <h2>Module : Mise en place (version gratuite)</h2>
        <p><strong>Professeur :</strong> Yousfi Imad Eddine</p>
        <p><strong>Type de cours :</strong> Th√©orique</p>
        <h3>Objectif p√©dagogique :</h3>
        <p>√Ä la fin de ce cours, l‚Äôapprenant sera capable de d√©finir la notion de mise en place,
        d‚Äôidentifier les diff√©rents √©l√©ments n√©cessaires √† la pr√©paration de la salle avant le service et
        de comprendre l‚Äôimportance de l‚Äôorganisation et de la pr√©sentation dans le bon
        d√©roulement du service.</p>
        <h3>Contenu du cours :</h3>
        <p><strong>1Ô∏è‚É£ D√©finition de la mise en place</strong><br>
        La mise en place d√©signe l‚Äôensemble des pr√©paratifs r√©alis√©s avant l‚Äôaccueil du client,
        destin√©s √† assurer un service rapide, efficace et de qualit√©. Elle constitue la premi√®re √©tape
        du service en salle et refl√®te le professionnalisme du personnel.</p>
        <p><strong>2Ô∏è‚É£ Objectifs de la mise en place</strong><br>
        - Garantir un service fluide et sans retard.<br>
        - Assurer une bonne organisation du travail.<br>
        - Maintenir une image soign√©e et professionnelle de l‚Äô√©tablissement.<br>
        - Pr√©venir les oublis et les erreurs pendant le service.</p>
        <p><strong>3Ô∏è‚É£ Les √©tapes principales de la mise en place</strong><br>
        1. Pr√©paration du mat√©riel : nettoyage et v√©rification de la vaisselle, verrerie, couverts, linge
        et mobilier.<br>
        2. Am√©nagement de la salle : disposition des tables, chaises, d√©coration et √©l√©ments de
        confort.<br>
        3. Dressage des tables : installation du linge, des couverts, verres, assiettes et accessoires
        selon le type de service.<br>
        4. Contr√¥le final : inspection g√©n√©rale avant l‚Äôouverture du restaurant ou de la salle.</p>
        <p><strong>4Ô∏è‚É£ Importance de la mise en place</strong><br>
        Une mise en place bien r√©alis√©e permet de :<br>
        - Gagner du temps pendant le service.<br>
        - Offrir une exp√©rience client agr√©able et fluide.<br>
        - Valoriser le savoir-faire du serveur et l‚Äôimage de l‚Äô√©tablissement.</p>
        <h3>Ressources disponibles (version gratuite)</h3>
        <ul>
          <li>üìÑ 1 fiche technique en PDF : ‚ÄúLes √©tapes de la mise en place‚Äù</li>
          <li>üìù 1 mini quiz de r√©vision (5 questions)</li>
          <li>üé• 1 d√©monstration vid√©o accessible uniquement dans la version compl√®te</li>
        </ul>
      `,
      'hygiene-securite': `
        <h2>Hygi√®ne et s√©curit√© (version gratuite)</h2>
        <p><strong>Professeur :</strong> Yousfi Imad Eddine</p>
        <p><strong>Type de cours :</strong> Th√©orique</p>
        <h3>Objectif p√©dagogique :</h3>
        <p>Ma√Ætriser les bonnes pratiques d‚Äôhygi√®ne et de s√©curit√© dans le domaine de l‚Äôart de la table.</p>
        <h3>Contenu :</h3>
        <ul>
          <li>Principes d‚Äôhygi√®ne alimentaire</li>
          <li>Nettoyage et d√©sinfection</li>
          <li>Pr√©vention des accidents</li>
        </ul>
        <h3>Ressources disponibles (version gratuite)</h3>
        <ul>
          <li>üìÑ Fiche PDF ‚ÄúHygi√®ne en salle‚Äù</li>
          <li>üìù Quiz pratique (5 questions)</li>
          <li>üé• D√©monstration vid√©o compl√®te dans la version payante</li>
        </ul>
      `,
      'techniques-service': `
        <h2>Techniques de service (version gratuite)</h2>
        <p><strong>Professeur :</strong> Yousfi Imad Eddine</p>
        <p><strong>Type de cours :</strong> Th√©orique</p>
        <h3>Objectif p√©dagogique :</h3>
        <p>Apprendre les gestes essentiels pour le service en salle.</p>
        <h3>Contenu :</h3>
        <ul>
          <li>Accueil du client</li>
          <li>Service des plats et boissons</li>
          <li>R√®gles de courtoisie</li>
        </ul>
        <h3>Ressources disponibles (version gratuite)</h3>
        <ul>
          <li>üìÑ Fiche technique en PDF</li>
          <li>üìù Quiz de r√©vision (5 questions)</li>
          <li>üé• Vid√©o compl√®te dans la version payante</li>
        </ul>
      `
    };
    function showTextModal(type) {
      document.getElementById('modalText').innerHTML = textContent[type] || "<p>Contenu non disponible.</p>";
      document.getElementById('textModal').style.display = 'flex';
    }
    function closeTextModal() {
      document.getElementById('textModal').style.display = 'none';
    }
    function showVideoModal(src) {
      const video = document.getElementById('modalVideo');
      video.src = src;
      video.load();
      document.getElementById('videoModal').style.display = 'flex';
      video.play();
    }
    function closeVideoModal() {
      const video = document.getElementById('modalVideo');
      video.pause();
      document.getElementById('videoModal').style.display = 'none';
    }
    function showPaymentModal(cardIndex) {
      document.getElementById('paymentModal').style.display = 'flex';
      // Show video only for first card
      if (typeof cardIndex !== 'undefined' && cardIndex === 0) {
        document.getElementById('paymentVideoContainer').style.display = 'block';
      } else {
        document.getElementById('paymentVideoContainer').style.display = 'none';
      }
    }
    function closePaymentModal() {
      document.getElementById('paymentModal').style.display = 'none';
      document.getElementById('paymentVideoContainer').style.display = 'none';
    }
    window.onclick = function(event) {
      if (event.target === document.getElementById('videoModal')) closeVideoModal();
      if (event.target === document.getElementById('textModal')) closeTextModal();
      if (event.target === document.getElementById('paymentModal')) closePaymentModal();
    };

    // Quiz logic
    const quizData = [
      {
        question: "Au XVIIIe et XIXe s. quelle diff√©rence existait entre le service '√† la fran√ßaise' et le service '√† la russe' ?",
        answers: [
          { text: "√Ä la fran√ßaise on servait tous les plats en m√™me temps, √† la russe, successivement", correct: true },
          { text: "Dans le premier on ne mangeait jamais de poisson et dans le second il constituait la majorit√© du repas", correct: false }
        ]
      },
      {
        question: "Le fromage ne s'installe √† table comme met √† part enti√®re qu'au d√©but du XXe si√®cle.",
        answers: [
          { text: "Vrai", correct: true },
          { text: "Faux", correct: false }
        ]
      },
      {
        question: "L'origine de l'expression 'dresser la table' vient du fait qu'auparavant il n'existait pas de table ni de salle √† manger.",
        answers: [
          { text: "Vrai", correct: true },
          { text: "Faux", correct: false }
        ]
      },
      {
        question: "√Ä l'origine, que signifie le mot 'restaurant' ?",
        answers: [
          { text: "La taverne o√π le voyageur se restaurait pendant ses voyages", correct: true },
          { text: "Un bouillon tr√®s copieux √† base de viande", correct: false },
          { text: "Le plat de r√©sistance servi dans les auberges", correct: false }
        ]
      }
    ];
    const questionNumberElem = document.getElementById('question-number');
    const questionTextElem = document.getElementById('question-text');
    const answerButtonsElem = document.getElementById('answer-buttons');
    const nextBtn = document.getElementById('next-btn');
    const progressFill = document.getElementById('progress-fill');
    let currentQuestionIndex = 0;
    let score = 0;

    function startQuiz() {
      currentQuestionIndex = 0;
      score = 0;
      nextBtn.style.display = 'none';
      nextBtn.innerText = 'Question suivante';
      showQuestion();
    }
    function showQuestion() {
      resetState();
      const currentQuestion = quizData[currentQuestionIndex];
      questionNumberElem.innerText = `QUESTION ${currentQuestionIndex + 1} / ${quizData.length}`;
      questionTextElem.innerText = currentQuestion.question;
      currentQuestion.answers.forEach(answer => {
        const button = document.createElement('button');
        button.innerText = answer.text;
        button.classList.add('btn');
        button.addEventListener('click', () => selectAnswer(answer, button));
        answerButtonsElem.appendChild(button);
      });
      updateProgress();
    }
    function resetState() {
      nextBtn.style.display = 'none';
      while(answerButtonsElem.firstChild) answerButtonsElem.removeChild(answerButtonsElem.firstChild);
    }
    function selectAnswer(answer, button) {
      Array.from(answerButtonsElem.children).forEach(btn => btn.disabled = true);
      if(answer.correct){
        button.classList.add('correct');
        score++;
      } else {
        button.classList.add('wrong');
      }
      nextBtn.style.display = 'inline-block';
    }
    nextBtn.addEventListener('click', () => {
      currentQuestionIndex++;
      if(currentQuestionIndex < quizData.length){
        showQuestion();
      } else {
        showScore();
      }
    });
    function showScore() {
      resetState();
      questionNumberElem.innerText = `R√©sultat: ${score} / ${quizData.length}`;
      questionTextElem.innerText = "Merci d'avoir particip√© au quiz !";
      nextBtn.innerText = 'Recommencer';
      nextBtn.style.display = 'inline-block';
      nextBtn.onclick = () => { nextBtn.innerText = 'Question suivante'; startQuiz(); };
    }
    function updateProgress() {
      const progressPercent = ((currentQuestionIndex) / quizData.length) * 100;
      progressFill.style.width = `${progressPercent}%`;
    }
    startQuiz();

    // Edit row logic for Progress Table
    function editRow(btn) {
      var row = btn.closest("tr");
      var statusCell = row.querySelector(".status-cell");
      var commentCell = row.querySelector(".comment-cell");
      // ÿ™ÿ≠ŸàŸäŸÑ ÿßŸÑÿ≠ŸÇŸàŸÑ ÿ•ŸÑŸâ ÿ≠ŸÇŸàŸÑ ÿ•ÿØÿÆÿßŸÑ
      statusCell.innerHTML = `
        <select>
          <option value="Compl√©t√©">Compl√©t√©</option>
          <option value="En cours">En cours</option>
          <option value="Non commenc√©">Non commenc√©</option>
        </select>
      `;
      commentCell.innerHTML = `<input type="text" value="${commentCell.textContent.trim()}" />`;
      // ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑÿ≤ÿ± ÿ•ŸÑŸâ "ÿ≠ŸÅÿ∏"
      btn.textContent = "Enregistrer";
      btn.onclick = function() {
        var newStatus = statusCell.querySelector("select").value;
        var newComment = commentCell.querySelector("input").value;
        statusCell.textContent = newStatus;
        statusCell.setAttribute('data-status', newStatus);
        commentCell.textContent = newComment;
        btn.textContent = "edit";
        btn.onclick = function() { editRow(btn); };
      };
    }
  </script>
</body>
</html>
